"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[921],{921:(O,d,n)=>{n.r(d),n.d(d,{UserProfilComponent:()=>w});var t=n(3953),s=n(3);let C=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[s.yE,s.yE]})}return e})();var b=n(8834),l=n(206),c=n(177),x=n(1266),m=n(1626);let M=(()=>{class e{http;apiUrl=x.c.apiUrl;constructor(r){this.http=r}getUserProfile(){const r=localStorage.getItem("accessToken"),a=new m.Lr({Authorization:`Bearer ${r}`});return this.http.get(`${this.apiUrl}users/spotify/me `,{headers:a})}static \u0275fac=function(a){return new(a||e)(t.KVO(m.Qq))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function y(e,o){if(1&e&&t.nrm(0,"img",16),2&e){const r=t.XpG(2);t.Y8G("src",r.userProfile.images[0].url,t.B4B)}}function P(e,o){1&e&&(t.j41(0,"mat-icon"),t.EFF(1,"account_circle"),t.k0s())}function _(e,o){if(1&e){const r=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),t.DNE(4,y,1,1,"img",8)(5,P,2,0,"ng-template",null,1,t.C5r),t.j41(7,"button",9),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.editProfilePicture())}),t.j41(8,"mat-icon"),t.EFF(9,"edit"),t.k0s()()(),t.j41(10,"div",10)(11,"h1",11),t.EFF(12),t.k0s(),t.j41(13,"p",12),t.EFF(14),t.k0s()()(),t.j41(15,"div",13)(16,"p")(17,"strong"),t.EFF(18,"Email:"),t.k0s(),t.EFF(19),t.k0s(),t.j41(20,"p")(21,"strong"),t.EFF(22,"Country:"),t.k0s(),t.EFF(23),t.k0s(),t.j41(24,"p")(25,"strong"),t.EFF(26,"Subscription:"),t.k0s(),t.EFF(27),t.nI1(28,"titlecase"),t.k0s(),t.j41(29,"p")(30,"strong"),t.EFF(31,"Spotify URI:"),t.k0s(),t.EFF(32),t.k0s(),t.j41(33,"div",14)(34,"button",15),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.viewProfile())}),t.j41(35,"mat-icon"),t.EFF(36,"remove_red_eye"),t.k0s()()()()()()}if(2&e){const r=t.sdS(6),a=t.XpG();t.R7$(4),t.Y8G("ngIf",null==a.userProfile||null==a.userProfile.images?null:a.userProfile.images.length)("ngIfElse",r),t.R7$(8),t.JRh(a.userProfile.display_name),t.R7$(2),t.SpI("Profil - ",8," playlists publiques"),t.R7$(5),t.SpI(" ",a.userProfile.email,""),t.R7$(4),t.SpI(" ",a.userProfile.country,""),t.R7$(4),t.SpI(" ",t.bMT(28,8,a.userProfile.product),""),t.R7$(5),t.SpI(" ",a.userProfile.uri,"")}}function F(e,o){1&e&&(t.j41(0,"p"),t.EFF(1,"Loading user profile..."),t.k0s())}function I(e,o){if(1&e&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&e){const r=t.XpG();t.R7$(),t.JRh(r.errorMessage)}}let w=(()=>{class e{userProfileService;userProfile;errorMessage;constructor(r){this.userProfileService=r}ngOnInit(){this.userProfileService.getUserProfile().subscribe(r=>{this.userProfile=r},r=>{this.errorMessage="Failed to load user profile.",console.error(r)})}viewProfile(){this.userProfile?.external_urls?.spotify&&window.open(this.userProfile.external_urls.spotify,"_blank")}editProfilePicture(){}static \u0275fac=function(a){return new(a||e)(t.rXU(M))};static \u0275cmp=t.VBU({type:e,selectors:[["app-user-profil"]],decls:4,vars:3,consts:[["loading",""],["defaultIcon",""],["class","user-profile",4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"user-profile"],[1,"profile-container"],[1,"profile-sidebar"],[1,"profile-image"],["alt","Profile Image",3,"src",4,"ngIf","ngIfElse"],[1,"edit-button",3,"click"],[1,"profile-text"],[1,"display-name"],[1,"public-playlists"],[1,"profile-details"],[1,"button-container"],[1,"view-profile",3,"click"],["alt","Profile Image",3,"src"]],template:function(a,i){if(1&a&&t.DNE(0,_,37,10,"div",2)(1,F,2,0,"ng-template",null,0,t.C5r)(3,I,2,1,"p",3),2&a){const k=t.sdS(2);t.Y8G("ngIf",i.userProfile)("ngIfElse",k),t.R7$(3),t.Y8G("ngIf",i.errorMessage)}},dependencies:[C,c.MD,c.bT,c.PV,b.Hl,l.m_,l.An],styles:[".user-profile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#121212;color:#fff;padding:50px;min-height:100vh;font-family:Helvetica Neue,Arial,sans-serif}.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.profile-sidebar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;background-color:#2d2d2d;border-bottom:1px solid rgba(255,255,255,.1);border-radius:10px 10px 0 0}.profile-image[_ngcontent-%COMP%]{position:relative;width:250px;height:250px;border-radius:50%;box-shadow:0 10px 20px #000c;overflow:hidden;margin-right:20px;cursor:pointer}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:opacity .3s ease-in-out}.profile-image[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:250px;color:#b3b3b3;width:100%;height:100%}.profile-image[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease-in-out;font-size:40px;border:none;cursor:pointer;z-index:2}.profile-image[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;color:#fff;z-index:3;width:100%;height:auto}.profile-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.3}.profile-image[_ngcontent-%COMP%]:hover   .edit-button[_ngcontent-%COMP%]{opacity:1}.profile-image[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#000000b3}.profile-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.profile-text[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-size:66px;font-weight:700;color:#fff;margin-top:80px}.profile-text[_ngcontent-%COMP%]   .public-playlists[_ngcontent-%COMP%]{font-size:18px;color:#b3b3b3;margin-top:25px;margin-right:10px}.profile-details[_ngcontent-%COMP%]{background-color:#282828;padding:20px}.profile-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;font-size:18px;letter-spacing:1px}.profile-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:8px;letter-spacing:1px}.profile-details[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;margin-top:20px}.profile-details[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .view-profile[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#1db954;color:#121212;border-radius:50%;display:flex;justify-content:center;align-items:center;border:none;cursor:pointer;transition:background .3s ease}.profile-details[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .view-profile[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.profile-details[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .view-profile[_ngcontent-%COMP%]:hover{background-color:#21d360}"]})}return e})()}}]);