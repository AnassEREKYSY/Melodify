"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[802],{9802:(se,k,a)=>{a.r(k),a.d(k,{HomeComponent:()=>ne});var t=a(3953),p=a(177),y=a(206),S=a(5559);function U(e,s){if(1&e&&t.nrm(0,"img",11),2&e){const i=t.XpG().ngIf;t.Y8G("src",i.imageUrls[0],t.B4B)}}function V(e,s){1&e&&t.nrm(0,"div",12)}function $(e,s){if(1&e){const i=t.RV6();t.j41(0,"div",2),t.bIt("click",function(){const o=t.eBV(i).ngIf,l=t.XpG();return t.Njj(l.goToDetails(o.id))}),t.DNE(1,U,1,1,"img",3)(2,V,1,0,"ng-template",null,0,t.C5r),t.j41(4,"div",4)(5,"div",5)(6,"h3",6),t.EFF(7),t.k0s(),t.j41(8,"p",7),t.EFF(9),t.k0s()(),t.j41(10,"div",8)(11,"button",9),t.bIt("click",function(o){const l=t.eBV(i).ngIf;return t.XpG().deletePlaylist(l.id),t.Njj(o.stopPropagation())}),t.nrm(12,"i",10),t.k0s()()()()}if(2&e){const i=s.ngIf,n=t.sdS(3);t.R7$(),t.Y8G("ngIf",null==i.imageUrls?null:i.imageUrls.length)("ngIfElse",n),t.R7$(6),t.JRh(i.name||"Unnamed Playlist"),t.R7$(2),t.SpI("by ",i.ownerDisplayName||"Unknown","")}}let N=(()=>{class e{router;playlist;deleteRequest=new t.bkB;constructor(i){this.router=i}ngOnInit(){}deletePlaylist(i){this.deleteRequest.emit(i)}goToDetails(i){this.router.navigate(["/playlist",i])}static \u0275fac=function(n){return new(n||e)(t.rXU(S.Ix))};static \u0275cmp=t.VBU({type:e,selectors:[["app-playlist"]],inputs:{playlist:"playlist"},outputs:{deleteRequest:"deleteRequest"},decls:1,vars:1,consts:[["noImage",""],["class","playlist-card",3,"click",4,"ngIf"],[1,"playlist-card",3,"click"],["alt","Playlist cover","class","playlist-image",3,"src",4,"ngIf","ngIfElse"],[1,"playlist-overlay"],[1,"playlist-details"],[1,"playlist-title"],[1,"playlist-artist"],[1,"action-buttons"],[1,"delete-btn",3,"click"],[1,"fas","fa-trash"],["alt","Playlist cover",1,"playlist-image",3,"src"],[1,"playlist-image","no-image"]],template:function(n,o){1&n&&t.DNE(0,$,13,4,"div",1),2&n&&t.Y8G("ngIf",o.playlist)},dependencies:[p.MD,p.bT,y.m_],styles:[".playlist-card[_ngcontent-%COMP%]{background:#121212;border-radius:10px;overflow:hidden;transition:transform .2s ease-in-out;position:relative;height:300px;cursor:pointer;box-shadow:0 4px 20px #00000080}.playlist-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0009}.playlist-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;z-index:1}.no-image[_ngcontent-%COMP%]{background-color:gray;width:100%;height:100%;position:absolute;top:0;left:0;z-index:1}.playlist-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background:none;padding:10px;display:flex;justify-content:space-between;align-items:center;z-index:2}.playlist-details[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:bolder}.playlist-title[_ngcontent-%COMP%]{font-size:24px;font-weight:bolder;color:#fff}.playlist-artist[_ngcontent-%COMP%]{font-size:15px;opacity:.9;font-weight:700}.action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.delete-btn[_ngcontent-%COMP%]{background:#1db954;border:none;color:#121212;font-size:1.2rem;cursor:pointer;transition:filter .2s;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.delete-btn[_ngcontent-%COMP%]:hover{filter:brightness(1.2);color:#fff;background-color:#121212}"]})}return e})();var u=a(9417),B=a(7673),P=a(8750),X=a(1985),T=a(1397),W=a(7441),g=a(8071),H=a(6450);const Y=["addListener","removeListener"],K=["addEventListener","removeEventListener"],Q=["on","off"];function v(e,s,i,n){if((0,g.T)(i)&&(n=i,i=void 0),n)return v(e,s,i).pipe((0,H.I)(n));const[o,l]=function q(e){return(0,g.T)(e.addEventListener)&&(0,g.T)(e.removeEventListener)}(e)?K.map(r=>d=>e[r](s,d,i)):function J(e){return(0,g.T)(e.addListener)&&(0,g.T)(e.removeListener)}(e)?Y.map(O(e,s)):function Z(e){return(0,g.T)(e.on)&&(0,g.T)(e.off)}(e)?Q.map(O(e,s)):[];if(!o&&(0,W.X)(e))return(0,T.Z)(r=>v(r,s,i))((0,P.Tg)(e));if(!o)throw new TypeError("Invalid event target");return new X.c(r=>{const d=(...c)=>r.next(1<c.length?c:c[0]);return o(d),()=>l(d)})}function O(e,s){return i=>n=>e[i](s,n)}var b=a(6354),M=a(8141),tt=a(5964),et=a(3236),it=a(9974),I=a(4360),st=a(1584);function lt(e,s,i,n){const o=window&&!!window.document&&window.document.documentElement;let l=o&&s?window:i;if(e&&(l=e&&o&&"string"==typeof e?function rt(e,s,i){return(i?window.document:s).querySelector(e)}(e,i.nativeElement,n):e,!l))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return l}function x(e){return e&&!e.firstChange}const ct={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},dt={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class ft{constructor(s=!0){this.vertical=s,this.propsMap=s?ct:dt}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function ht(e){return["Window","global"].some(i=>Object.prototype.toString.call(e).includes(i))}function C(e,s){return e?s.document.documentElement:null}function D(e,s){const i=function vt({container:e,isWindow:s,axis:i}){const{offsetHeightKey:n,clientHeightKey:o}=F(i);return j(e,s,n,o)}(s);return s.isWindow?function mt(e,s,i){const{axis:n,container:o,isWindow:l}=i,{offsetHeightKey:r,clientHeightKey:d}=F(n),c=e+E(C(l,o),n,l),f=j(s.nativeElement,l,r,d),h=function bt(e,s,i){const n=s.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[n]+E(e,s,i)}(s.nativeElement,n,l)+f;return{height:e,scrolled:c,totalToScroll:h,isWindow:l}}(i,e,s):function yt(e,s,i){const{axis:n,container:o}=i;return{height:e,scrolled:o[n.scrollTopKey()],totalToScroll:o[n.scrollHeightKey()],isWindow:!1}}(i,0,s)}function F(e){return{offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function j(e,s,i,n){if(isNaN(e[i])){const o=C(s,e);return o?o[n]:0}return e[i]}function E(e,s,i){const n=s.pageYOffsetKey(),o=s.scrollTopKey(),l=s.offsetTopKey();return isNaN(window.pageYOffset)?C(i,e)[o]:e.ownerDocument?e.ownerDocument.defaultView[n]:e[l]}function xt(e,s={down:0,up:0},i){let n,o;if(e.totalToScroll<=0)return!1;const l=e.isWindow?e.scrolled:e.height+e.scrolled;return i?(n=(e.totalToScroll-l)/e.totalToScroll,o=(s?.down?s.down:0)/10):(n=e.scrolled/(e.scrolled+(e.totalToScroll-l)),o=(s?.up?s.up:0)/10),n<=o}class St{constructor(s){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,s)}updateScrollPosition(s){return this.lastScrollPosition=s}updateTotalToScroll(s){this.lastTotalToScroll!==s&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=s)}updateScroll(s,i){this.updateScrollPosition(s),this.updateTotalToScroll(i)}updateTriggeredFlag(s,i){i?this.triggered.down=s:this.triggered.up=s}isTriggeredScroll(s,i){return i?this.triggered.down===s:this.triggered.up===s}}function Pt(e){const{scrollContainer:s,scrollWindow:i,element:n,fromRoot:o}=e,l=function ut({windowElement:e,axis:s}){return function gt(e,s){const i=e.isWindow||s&&!s.nativeElement?s:s.nativeElement;return{...e,container:i}}({axis:s,isWindow:ht(e)},e)}({axis:new ft(!e.horizontal),windowElement:lt(s,i,n,o)}),r=new St({totalToScroll:D(n,l).totalToScroll}),c={up:e.upDistance,down:e.downDistance};return function Tt(e){let s=v(e.container,"scroll");return e.throttle&&(s=s.pipe(function ot(e,s=et.E,i){const n=(0,st.O)(e,s);return function nt(e,s){return(0,it.N)((i,n)=>{const{leading:o=!0,trailing:l=!1}=s??{};let r=!1,d=null,c=null,f=!1;const h=()=>{c?.unsubscribe(),c=null,l&&(L(),f&&n.complete())},_=()=>{c=null,f&&n.complete()},z=m=>c=(0,P.Tg)(e(m)).subscribe((0,I._)(n,h,_)),L=()=>{if(r){r=!1;const m=d;d=null,n.next(m),!f&&z(m)}};i.subscribe((0,I._)(n,m=>{r=!0,d=m,(!c||c.closed)&&(o?L():z(m))},()=>{f=!0,(!(l&&r&&c)||c.closed)&&n.complete()}))})}(()=>n,i)}(e.throttle,void 0,{leading:!0,trailing:!0}))),s}({container:l.container,throttle:e.throttle}).pipe((0,T.Z)(()=>(0,B.of)(D(n,l))),(0,b.T)(f=>function Ot(e,s,i){const{scrollDown:n,fire:o}=function wt(e,s,i){const n=function Ct(e,s){return e<s.scrolled}(e,s);return{fire:xt(s,i,n),scrollDown:n}}(e,s,i);return{scrollDown:n,fire:o,stats:s}}(r.lastScrollPosition,f,c)),(0,M.M)(({stats:f})=>r.updateScroll(f.scrolled,f.totalToScroll)),(0,tt.p)(({fire:f,scrollDown:h,stats:{totalToScroll:_}})=>function pt(e,s,i){return!!(e&&s||!i&&s)}(e.alwaysCallback,f,r.isTriggeredScroll(_,h))),(0,M.M)(({scrollDown:f,stats:{totalToScroll:h}})=>{r.updateTriggeredFlag(h,f)}),(0,b.T)(Mt))}const w={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Mt(e){const{scrollDown:s,stats:{scrolled:i}}=e;return{type:s?w.DOWN:w.UP,payload:{currentScrollPosition:i}}}let It=(()=>{class e{constructor(i,n){this.element=i,this.zone=n,this.scrolled=new t.bkB,this.scrolledUp=new t.bkB,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:i,infiniteScrollDisabled:n,infiniteScrollDistance:o}){const l=x(i),r=x(n),d=x(o),c=!r&&!this.infiniteScrollDisabled||r&&!n.currentValue||d;(l||r||d)&&(this.destroyScroller(),c&&this.setup())}ngOnDestroy(){this.destroyScroller()}setup(){(function at(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Pt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(i=>this.handleOnScroll(i))})}handleOnScroll({type:i,payload:n}){const o=i===w.DOWN?this.scrolled:this.scrolledUp;(function Dt(e){return e.observed??e.observers.length>0})(o)&&this.zone.run(()=>o.emit(n))}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(t.aKT),t.rXU(t.SKi))}}static{this.\u0275dir=t.FsC({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[t.OA$]})}}return e})(),Ft=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({})}}return e})();var jt=a(5274),A=a(4005),Et=a(1266),R=a(1626);let At=(()=>{class e{http;apiUrl=Et.c.apiUrl;constructor(i){this.http=i}extractUserIdFromToken(){const i=localStorage.getItem("accessToken"),n=new R.Lr({Authorization:`Bearer ${i}`});return this.http.get(`${this.apiUrl}users/spotify/me`,{headers:n}).pipe((0,b.T)(o=>o.id))}static \u0275fac=function(n){return new(n||e)(t.KVO(R.Qq))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Rt=()=>[1,2,3,4];function Gt(e,s){if(1&e){const i=t.RV6();t.j41(0,"div",10),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.toggleCreateForm())}),t.k0s()}}function zt(e,s){if(1&e){const i=t.RV6();t.j41(0,"div",11)(1,"h3",12),t.EFF(2,"Create New Playlist"),t.k0s(),t.j41(3,"form",13),t.bIt("submit",function(o){t.eBV(i);const l=t.XpG();return t.Njj(l.createPlaylist(o))}),t.nrm(4,"input",14)(5,"textarea",15),t.j41(6,"div",16)(7,"button",17),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.setVisibility(!0))}),t.nrm(8,"i",18),t.k0s(),t.j41(9,"button",17),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.setVisibility(!1))}),t.nrm(10,"i",19),t.k0s()(),t.j41(11,"div",20)(12,"button",21),t.EFF(13,"Create"),t.k0s(),t.j41(14,"button",22),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.toggleCreateForm())}),t.EFF(15,"Cancel"),t.k0s()()()()}if(2&e){const i=t.XpG();t.R7$(3),t.Y8G("formGroup",i.createPlaylistForm),t.R7$(4),t.AVh("active",i.createPlaylistForm.value.isPublic),t.R7$(2),t.AVh("active",!i.createPlaylistForm.value.isPublic)}}function Lt(e,s){1&e&&(t.j41(0,"div",23),t.EFF(1,"No playlists found."),t.k0s())}function Ut(e,s){if(1&e){const i=t.RV6();t.j41(0,"app-playlist",26),t.bIt("deleteRequest",function(o){t.eBV(i);const l=t.XpG(2);return t.Njj(l.deletePlaylist(o))}),t.k0s()}2&e&&t.Y8G("playlist",s.$implicit)}function Vt(e,s){if(1&e&&(t.j41(0,"div",24),t.DNE(1,Ut,1,1,"app-playlist",25),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.playlists)}}function $t(e,s){1&e&&(t.j41(0,"div",28),t.nrm(1,"div",29)(2,"div",30)(3,"div",30),t.k0s())}function Nt(e,s){1&e&&(t.j41(0,"div",24),t.DNE(1,$t,4,0,"div",27),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngForOf",t.lJ4(1,Rt)))}function Bt(e,s){if(1&e){const i=t.RV6();t.j41(0,"div",31),t.bIt("scrolled",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.loadMore())}),t.k0s()}if(2&e){const i=t.XpG();t.Y8G("infiniteScrollDistance",i.scrollDistance)("infiniteScrollUpDistance",i.scrollUpDistance)}}let Xt=(()=>{class e{playlistService;snackBarService;userService;fb;playlists=[];showCreateForm=!1;createPlaylistForm;userId="";totalPlaylists=0;limit=8;offset=0;Math=Math;isLoading=!0;isLoadingNewData=!1;scrollDistance=1;scrollUpDistance=2;constructor(i,n,o,l){this.playlistService=i,this.snackBarService=n,this.userService=o,this.fb=l,this.createPlaylistForm=this.fb.group({name:[""],description:[""],isPublic:[!0]})}ngOnInit(){this.fetchPlaylists(),this.userService.extractUserIdFromToken().subscribe({next:i=>{this.userId=i}})}fetchPlaylists(){this.isLoadingNewData=!0,this.playlistService.getSpotifyPlaylistsByUserId(this.offset,this.limit).subscribe({next:i=>{this.playlists=[...this.playlists,...i.playlists],this.totalPlaylists=i.total,this.isLoading=!1,this.isLoadingNewData=!1},error:i=>{console.error("Error fetching playlists:",i),this.isLoading=!1,this.isLoadingNewData=!1}})}loadMore(){this.offset+this.limit<this.totalPlaylists&&!this.isLoading&&(this.offset+=this.limit,this.isLoadingNewData=!0,this.fetchPlaylists())}deletePlaylist(i){this.playlistService.deletePlaylist(i).subscribe({next:()=>{this.snackBarService.success("Playlist deleted successfully"),this.playlists=this.playlists.filter(n=>n.id!==i)},error:n=>{console.error("Error deleting playlist:",n),this.snackBarService.error("Error deleting playlist: "+n)}})}toggleCreateForm(){this.showCreateForm=!this.showCreateForm}setVisibility(i){this.createPlaylistForm.patchValue({isPublic:i})}createPlaylist(i){i.preventDefault(),this.playlistService.createPlaylist({name:this.createPlaylistForm.value.name,userId:this.userId,isPublic:this.createPlaylistForm.value.isPublic,description:this.createPlaylistForm.value.description}).subscribe({next:o=>{this.snackBarService.success("Playlist created successfully"),this.toggleCreateForm(),this.createPlaylistForm.reset(),this.playlists=[o,...this.playlists],this.totalPlaylists++},error:o=>{this.snackBarService.error("Error creating playlist: "+o)}})}static \u0275fac=function(n){return new(n||e)(t.rXU(jt.q),t.rXU(A.v),t.rXU(At),t.rXU(u.ok))};static \u0275cmp=t.VBU({type:e,selectors:[["app-playlists-list"]],decls:12,vars:6,consts:[[1,"playlists-container"],[1,"flex"],[1,"text-2xl","font-bold","text-white"],[1,"add-btn",3,"click"],[1,"fas","fa-plus"],["class","modal-overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],["class","text-gray-400 text-center mt-6",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-6",4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollUpDistance","scrolled",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal"],[1,"text-white","text-lg","font-bold","mb-4"],[3,"submit","formGroup"],["type","text","formControlName","name","placeholder","Playlist Name","required","",1,"input-field"],["formControlName","description","placeholder","Description...",1,"textarea-field"],[1,"visibility-toggle"],["type","button",3,"click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[1,"action-buttons"],["type","submit",1,"save-btn"],["type","button",1,"cancel-btn",3,"click"],[1,"text-gray-400","text-center","mt-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","mt-6"],[3,"playlist","deleteRequest",4,"ngFor","ngForOf"],[3,"deleteRequest","playlist"],["class","loading-card",4,"ngFor","ngForOf"],[1,"loading-card"],[1,"loading-image"],[1,"loading-text"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollUpDistance"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3,"Playlists"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return o.toggleCreateForm()}),t.nrm(5,"i",4),t.k0s()(),t.DNE(6,Gt,1,0,"div",5)(7,zt,16,5,"div",6)(8,Lt,2,0,"div",7)(9,Vt,2,1,"div",8)(10,Nt,2,2,"div",8)(11,Bt,1,2,"div",9),t.k0s()),2&n&&(t.R7$(6),t.Y8G("ngIf",o.showCreateForm),t.R7$(),t.Y8G("ngIf",o.showCreateForm),t.R7$(),t.Y8G("ngIf",!o.isLoading&&0===o.playlists.length),t.R7$(),t.Y8G("ngIf",!o.isLoading),t.R7$(),t.Y8G("ngIf",o.isLoadingNewData),t.R7$(),t.Y8G("ngIf",!o.isLoading))},dependencies:[N,p.MD,p.Sq,p.bT,u.X1,u.qT,u.me,u.BC,u.cb,u.YS,u.j4,u.JD,Ft,It],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css";.playlists-container[_ngcontent-%COMP%]{width:100vw;min-height:100vh;padding:60px;background:#121212;position:relative;color:#fff;margin:0}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.add-btn[_ngcontent-%COMP%]{width:45px;height:45px;background:#000;color:#fff;border:2px solid #1db954;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:24px;font-weight:bolder;cursor:pointer;transition:background .2s,transform .2s}.add-btn[_ngcontent-%COMP%]:hover{background:#1db954;color:#000;transform:scale(1.1)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:10}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#121212;padding:20px;border-radius:10px;box-shadow:0 4px 8px 5px #a5a4a400;z-index:11;width:500px;height:450px;display:flex;flex-direction:column;gap:10px;text-align:center;color:#fff}.input-field[_ngcontent-%COMP%], .textarea-field[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;margin-bottom:20px;font-size:16px;background:#222;color:#fff}.textarea-field[_ngcontent-%COMP%]{resize:none;height:120px}.visibility-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:30px;margin-bottom:20px}.visibility-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.5rem;cursor:pointer;color:gray}.visibility-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#1db954}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px}.save-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{flex:1;padding:10px;border-radius:20px;cursor:pointer;font-size:16px;border:none;font-weight:700;text-transform:uppercase}.save-btn[_ngcontent-%COMP%]{background:#1db954;color:#fff}.cancel-btn[_ngcontent-%COMP%]{background:transparent;color:#fff}.save-btn[_ngcontent-%COMP%]:hover, .cancel-btn[_ngcontent-%COMP%]:hover{background-color:#bab9b932}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:50px}.pagination-btn[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:8px 16px;border:2px solid #1db954;border-radius:20px;font-weight:700;cursor:pointer;transition:background .3s,color .3s}.pagination-btn[_ngcontent-%COMP%]:hover{background:#1db954;color:#000}.pagination-btn[_ngcontent-%COMP%]:disabled{border-color:gray;color:gray;cursor:not-allowed}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:.6}50%{transform:scale(1.05);opacity:.8}to{transform:scale(1);opacity:.6}}.loading-card[_ngcontent-%COMP%]{background-color:#333;border-radius:10px;padding:20px;display:flex;flex-direction:column;justify-content:space-between;height:200px;opacity:.6;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}.loading-image[_ngcontent-%COMP%]{background-color:#444;height:120px;border-radius:8px;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}.loading-text[_ngcontent-%COMP%]{background-color:#444;height:14px;margin-top:10px;border-radius:8px;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}.loading-text[_ngcontent-%COMP%]:first-child{width:80%}.loading-text[_ngcontent-%COMP%]:last-child{width:60%}']})}return e})();function Wt(e,s){if(1&e&&t.nrm(0,"img",8),2&e){const i=t.XpG().ngIf;t.Y8G("src",i.images[0].url,t.B4B)}}function Ht(e,s){1&e&&t.nrm(0,"div",9)}function Yt(e,s){if(1&e){const i=t.RV6();t.j41(0,"div",2),t.bIt("click",function(){const o=t.eBV(i).ngIf,l=t.XpG();return t.Njj(l.goToArtistDetails(o.id))}),t.DNE(1,Wt,1,1,"img",3)(2,Ht,1,0,"ng-template",null,0,t.C5r),t.j41(4,"button",4),t.bIt("click",function(o){const l=t.eBV(i).ngIf;return t.XpG().unfollowArtist(l.id),t.Njj(o.stopPropagation())}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()(),t.j41(7,"div",5)(8,"h3",6),t.EFF(9),t.k0s()(),t.nrm(10,"div",7),t.k0s()}if(2&e){const i=s.ngIf,n=t.sdS(3);t.R7$(),t.Y8G("ngIf",null==i.images[0]?null:i.images[0].url)("ngIfElse",n),t.R7$(8),t.JRh(i.name||"Unnamed Artist")}}let Kt=(()=>{class e{router;artist;unfollowRequest=new t.bkB;constructor(i){this.router=i}ngOnInit(){}unfollowArtist(i){this.unfollowRequest.emit(i)}goToArtistDetails(i){this.router.navigate(["/artist",i])}static \u0275fac=function(n){return new(n||e)(t.rXU(S.Ix))};static \u0275cmp=t.VBU({type:e,selectors:[["app-artist"]],inputs:{artist:"artist"},outputs:{unfollowRequest:"unfollowRequest"},decls:1,vars:1,consts:[["noImage",""],["class","artist-card",3,"click",4,"ngIf"],[1,"artist-card",3,"click"],["alt","Artist image","class","artist-image",3,"src",4,"ngIf","ngIfElse"],[1,"unfollow-btn",3,"click"],[1,"artist-overlay"],[1,"artist-name"],[1,"artist-info-bottom-line"],["alt","Artist image",1,"artist-image",3,"src"],[1,"artist-image","no-image"]],template:function(n,o){1&n&&t.DNE(0,Yt,11,3,"div",1),2&n&&t.Y8G("ngIf",o.artist)},dependencies:[p.MD,p.bT,y.m_,y.An],styles:[".artist-card[_ngcontent-%COMP%]{margin-top:30px;background:#222;border-radius:10px;overflow:hidden;position:relative;height:200px;box-shadow:0 4px 20px #00000080;transition:transform .2s ease-in-out;display:flex;flex-direction:column;justify-content:flex-end;padding:10px;width:350px;cursor:pointer}.artist-card[_ngcontent-%COMP%]:hover{transform:scale(1.01);box-shadow:0 8px 20px #0009}.artist-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;z-index:1;border-bottom:4px solid #000}.artist-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;z-index:2}.artist-name[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;color:#fff;font-weight:700;font-size:1.3rem;text-shadow:2px 2px 4px rgba(0,0,0,.6)}.artist-info-bottom-line[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:4px;background-color:#000;z-index:2}.unfollow-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#85848485;border:none;border-radius:50%;padding:0;color:#000;cursor:pointer;transition:background-color .3s ease,color .3s ease;z-index:3;width:30px;height:30px;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility 0s .3s}.artist-card[_ngcontent-%COMP%]:hover   .unfollow-btn[_ngcontent-%COMP%]{opacity:1;visibility:visible;transition:opacity .3s ease,visibility 0s 0s}.unfollow-btn[_ngcontent-%COMP%]:hover{color:#fff}.unfollow-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:19px;font-weight:bolder}@media (max-width: 768px){.artist-card[_ngcontent-%COMP%]{width:100%;max-width:300px;margin-bottom:20px;height:auto}.artist-name[_ngcontent-%COMP%]{font-size:1.1rem}.unfollow-btn[_ngcontent-%COMP%]{width:25px;height:25px}}@media (max-width: 480px){.artist-name[_ngcontent-%COMP%]{font-size:1rem}.unfollow-btn[_ngcontent-%COMP%]{width:20px;height:20px}.artist-card[_ngcontent-%COMP%]{max-width:280px}}"]})}return e})();const Qt=["*"];let G=(()=>{class e{config;afterChange=(0,t.CGW)();beforeChange=(0,t.CGW)();breakpoint=(0,t.CGW)();destroy=(0,t.CGW)();init=(0,t.CGW)();$instance;currentIndex=0;slides=[];initialized=!1;_removedSlides=[];_addedSlides=[];el=(0,t.WQX)(t.aKT);zone=(0,t.WQX)(t.SKi);isServer=(0,p.Vy)((0,t.WQX)(t.Agw));ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!this.isServer&&(this._addedSlides.length>0||this._removedSlides.length>0)){const i=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===i?this.unslick():(this._addedSlides.forEach(n=>{this.slides.push(n),this.$instance.slick("slickAdd",n.el.nativeElement)}),this._addedSlides=[],this._removedSlides.forEach(n=>{const o=this.slides.indexOf(n);this.slides=this.slides.filter(l=>l!==n),this.$instance.slick("slickRemove",o)}),this._removedSlides=[]):i>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(i,n)=>{this.zone.run(()=>{this.init.emit({event:i,slick:n})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(i,n,o)=>{this.zone.run(()=>{this.afterChange.emit({event:i,slick:n,currentSlide:o,first:0===o,last:n.$slides.length===o+n.options.slidesToScroll}),this.currentIndex=o})}),this.$instance.on("beforeChange",(i,n,o,l)=>{this.zone.run(()=>{this.beforeChange.emit({event:i,slick:n,currentSlide:o,nextSlide:l}),this.currentIndex=l})}),this.$instance.on("breakpoint",(i,n,o)=>{this.zone.run(()=>{this.breakpoint.emit({event:i,slick:n,breakpoint:o})})}),this.$instance.on("destroy",(i,n)=>{this.zone.run(()=>{this.destroy.emit({event:i,slick:n}),this.initialized=!1})})}addSlide(i){this._addedSlides.push(i)}removeSlide(i){this._removedSlides.push(i)}slickGoTo(i){this.$instance.slick("slickGoTo",i)}slickNext(){this.$instance.slick("slickNext")}slickPrev(){this.$instance.slick("slickPrev")}slickPause(){this.$instance.slick("slickPause")}slickPlay(){this.$instance.slick("slickPlay")}unslick(){this.$instance&&(this.$instance.slick("unslick"),this.$instance=void 0),this.initialized=!1}ngOnChanges(i){if(this.initialized){const n=i.config;if(n.previousValue!==n.currentValue&&void 0!==n.currentValue){const o=n.currentValue.refresh,l=Object.assign({},n.currentValue);delete l.refresh,this.$instance.slick("slickSetOption",l,o)}}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=t.VBU({type:e,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],standalone:!1,features:[t.Jv_([{provide:u.kq,useExisting:(0,t.Rfq)(()=>e),multi:!0}]),t.OA$],ngContentSelectors:Qt,decls:1,vars:0,template:function(n,o){1&n&&(t.NAR(),t.SdG(0))},encapsulation:2})}return e})(),Jt=(()=>{class e{carousel=(0,t.WQX)(G,{host:!0});renderer=(0,t.WQX)(t.sFG);el=(0,t.WQX)(t.aKT);isServer=(0,p.Vy)((0,t.WQX)(t.Agw));ngOnInit(){this.carousel.addSlide(this),this.isServer&&this.carousel.slides.length>0&&this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){this.carousel.removeSlide(this)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=t.FsC({type:e,selectors:[["","ngxSlickItem",""]],standalone:!1})}return e})(),Zt=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[p.MD]})}return e})();var qt=a(3340);const te=["slickModal"];function ee(e,s){if(1&e){const i=t.RV6();t.j41(0,"div",4)(1,"app-artist",5),t.bIt("unfollowRequest",function(o){t.eBV(i);const l=t.XpG();return t.Njj(l.UnfollowArtist(o))}),t.k0s()()}if(2&e){const i=s.$implicit;t.R7$(),t.Y8G("artist",i)}}let ie=(()=>{class e{followedArtistService;snackBarService;cdr;slickModal;followedArtists=[];isLoading=!0;isSlickInitialized=!1;ngAfterViewInit(){console.log("ngAfterViewInit: Checking Slick Initialization...")}ngAfterViewChecked(){!this.isSlickInitialized&&this.slickModal&&this.slickModal.$instance&&(this.isSlickInitialized=!0,console.log("\u2705 Slick is initialized:",this.slickModal))}prev(){this.isSlickInitialized?this.slickModal.slickPrev():console.warn("\u274c Slick instance not ready yet")}next(){this.isSlickInitialized?this.slickModal.slickNext():console.warn("\u274c Slick instance not ready yet")}slideConfig={slidesToShow:4,slidesToScroll:1,infinite:!0,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:3e3};constructor(i,n,o){this.followedArtistService=i,this.snackBarService=n,this.cdr=o}ngOnInit(){this.fetchFollowedArtists()}fetchFollowedArtists(){this.followedArtistService.getFollowedArtist().subscribe({next:i=>{this.followedArtists=i,this.isLoading=!1,setTimeout(()=>{this.slickModal&&this.slickModal.$instance?(console.log("Slick carousel is ready, resetting index"),this.slickModal.slickGoTo(0)):console.warn("Slick carousel instance is still not ready")},500)},error:i=>{console.error("Error fetching followed artists:",i),this.isLoading=!1}})}UnfollowArtist(i){this.followedArtistService.unfollowArtist(i).subscribe({next:()=>{this.snackBarService.success("Artist Unfollowed successfully"),this.followedArtists=this.followedArtists.filter(n=>n.id!==i)},error:n=>{console.error("Error Unfollowing artist:",n),this.snackBarService.error("Error Unfollowing artist: "+n)}})}static \u0275fac=function(n){return new(n||e)(t.rXU(qt.L),t.rXU(A.v),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:e,selectors:[["app-artists-list"]],viewQuery:function(n,o){if(1&n&&t.GBs(te,5),2&n){let l;t.mGM(l=t.lsd())&&(o.slickModal=l.first)}},decls:5,vars:2,consts:[[1,"artists-container"],[1,"text-2xl","font-bold","text-white"],[1,"carousel",3,"config"],["ngxSlickItem","","class","artist-card",4,"ngFor","ngForOf"],["ngxSlickItem","",1,"artist-card"],[3,"unfollowRequest","artist"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"Followed Artists"),t.k0s(),t.j41(3,"ngx-slick-carousel",2),t.DNE(4,ee,2,1,"div",3),t.k0s()()),2&n&&(t.R7$(3),t.Y8G("config",o.slideConfig),t.R7$(),t.Y8G("ngForOf",o.followedArtists))},dependencies:[Kt,p.MD,p.Sq,Zt,G,Jt,y.m_],styles:[".artists-container[_ngcontent-%COMP%]{margin:0 auto;width:100%;padding:40px;background-color:#121212}.carousel[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;flex-wrap:wrap;justify-content:center}.ngx-slick-carousel[_ngcontent-%COMP%]{display:flex;gap:10px}@media (max-width: 768px){.artists-container[_ngcontent-%COMP%]{padding:20px}.carousel[_ngcontent-%COMP%]{justify-content:center}.ngx-slick-carousel[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}"]})}return e})(),ne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-home"]],decls:2,vars:0,template:function(n,o){1&n&&t.nrm(0,"app-artists-list")(1,"app-playlists-list")},dependencies:[Xt,ie],encapsulation:2})}return e})()}}]);